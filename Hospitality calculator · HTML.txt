<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Jengu - Hospitality Automation ROI Calculator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    :root {
      --primary: #0EA5E9;
      --primary-dark: #0284C7;
      --secondary: #8B5CF6;
      --accent: #F59E0B;
      --success: #10B981;
      --bg-dark: #0F172A;
      --bg-card: #1E293B;
      --bg-card-hover: #334155;
      --text-primary: #F8FAFC;
      --text-secondary: #CBD5E1;
      --text-muted: #94A3B8;
      --border: #334155;
      --gradient-primary: linear-gradient(135deg, #0EA5E9 0%, #8B5CF6 100%);
      --gradient-accent: linear-gradient(135deg, #F59E0B 0%, #EF4444 100%);
      --gradient-success: linear-gradient(135deg, #10B981 0%, #0EA5E9 100%);
    }
    
    body {
      font-family: 'Inter', sans-serif;
      background: var(--bg-dark);
      color: var(--text-primary);
      min-height: 100vh;
      padding: 2rem 1rem;
      background-image: 
        radial-gradient(at 0% 0%, rgba(14, 165, 233, 0.1) 0px, transparent 50%),
        radial-gradient(at 100% 100%, rgba(139, 92, 246, 0.1) 0px, transparent 50%);
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    
    /* Header Section */
    .header {
      text-align: center;
      margin-bottom: 3rem;
      animation: fadeInDown 0.8s ease-out;
    }
    
    .header h1 {
      font-size: 3rem;
      font-weight: 800;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 1rem;
      line-height: 1.2;
    }
    
    .header p {
      font-size: 1.25rem;
      color: var(--text-secondary);
      max-width: 700px;
      margin: 0 auto;
      line-height: 1.6;
    }
    
    /* Calculator Card */
    .calc-card {
      background: var(--bg-card);
      border-radius: 24px;
      padding: 3rem;
      box-shadow: 
        0 20px 25px -5px rgba(0, 0, 0, 0.3),
        0 10px 10px -5px rgba(0, 0, 0, 0.2);
      border: 1px solid var(--border);
      position: relative;
      overflow: hidden;
      animation: fadeInUp 0.8s ease-out 0.2s both;
    }
    
    .calc-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: var(--gradient-primary);
    }
    
    /* Progress Steps */
    .progress-container {
      display: flex;
      justify-content: space-between;
      margin-bottom: 3rem;
      position: relative;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
    
    .progress-line {
      position: absolute;
      top: 20px;
      left: 10%;
      right: 10%;
      height: 3px;
      background: var(--border);
      z-index: 0;
    }
    
    .progress-line-fill {
      height: 100%;
      background: var(--gradient-primary);
      transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      width: 0%;
    }
    
    .step {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
      cursor: pointer;
      position: relative;
      z-index: 1;
      transition: transform 0.3s ease;
    }
    
    .step:hover {
      transform: translateY(-3px);
    }
    
    .step-circle {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--bg-card-hover);
      border: 3px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      transition: all 0.3s ease;
      position: relative;
    }
    
    .step.active .step-circle {
      background: var(--gradient-primary);
      border-color: transparent;
      box-shadow: 0 0 20px rgba(14, 165, 233, 0.5);
      animation: pulse 2s ease-in-out infinite;
    }
    
    .step.completed .step-circle {
      background: var(--success);
      border-color: transparent;
    }
    
    .step.completed .step-circle::after {
      content: '✓';
      position: absolute;
      color: white;
      font-size: 1.2rem;
    }
    
    .step-label {
      font-size: 0.875rem;
      color: var(--text-muted);
      font-weight: 500;
      transition: color 0.3s ease;
    }
    
    .step.active .step-label {
      color: var(--primary);
      font-weight: 600;
    }
    
    /* Content Sections */
    .section {
      display: none;
      animation: fadeIn 0.5s ease-out;
    }
    
    .section.active {
      display: block;
    }
    
    .section-header {
      margin-bottom: 2rem;
    }
    
    .section-header h2 {
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 0.75rem;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .section-header p {
      color: var(--text-secondary);
      font-size: 1.05rem;
      line-height: 1.6;
    }
    
    /* Button Groups */
    .button-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }
    
    .option-btn {
      background: var(--bg-card-hover);
      border: 2px solid var(--border);
      border-radius: 12px;
      padding: 1.25rem 1.5rem;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      text-align: left;
      position: relative;
      overflow: hidden;
    }
    
    .option-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--gradient-primary);
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .option-btn:hover {
      transform: translateY(-2px);
      border-color: var(--primary);
      box-shadow: 0 10px 20px rgba(14, 165, 233, 0.2);
    }
    
    .option-btn.active {
      border-color: var(--primary);
      background: rgba(14, 165, 233, 0.1);
      transform: scale(1.02);
    }
    
    .option-btn.active::before {
      opacity: 0.1;
    }
    
    .option-icon {
      font-size: 2rem;
      margin-bottom: 0.75rem;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--primary);
    }
    
    .option-icon i {
      font-size: 2rem;
    }
    
    .option-title {
      font-weight: 600;
      font-size: 1rem;
      margin-bottom: 0.25rem;
      position: relative;
      z-index: 1;
    }
    
    .option-desc {
      font-size: 0.875rem;
      color: var(--text-muted);
      position: relative;
      z-index: 1;
    }
    
    /* Task Selection */
    .task-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 0.75rem;
      margin-bottom: 2rem;
    }
    
    .task-btn {
      background: var(--bg-card-hover);
      border: 2px solid var(--border);
      border-radius: 10px;
      padding: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
      font-size: 0.9rem;
      font-weight: 500;
      position: relative;
    }
    
    .task-btn:hover {
      border-color: var(--primary);
      transform: translateY(-2px);
    }
    
    .task-btn.active {
      background: rgba(14, 165, 233, 0.15);
      border-color: var(--primary);
      color: var(--primary);
    }
    
    .task-savings {
      display: block;
      font-size: 0.75rem;
      color: var(--success);
      margin-top: 0.25rem;
      font-weight: 600;
    }
    
    /* Sliders */
    .slider-group {
      margin-bottom: 2rem;
      background: var(--bg-card-hover);
      padding: 1.5rem;
      border-radius: 12px;
      border: 1px solid var(--border);
    }
    
    .slider-label {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }
    
    .slider-label span:first-child {
      font-weight: 600;
      color: var(--text-primary);
    }
    
    .slider-value {
      font-size: 1.25rem;
      font-weight: 700;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .slider {
      width: 100%;
      height: 8px;
      border-radius: 4px;
      background: var(--border);
      outline: none;
      -webkit-appearance: none;
      position: relative;
    }
    
    .slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: var(--gradient-primary);
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(14, 165, 233, 0.4);
      transition: transform 0.2s ease;
    }
    
    .slider::-webkit-slider-thumb:hover {
      transform: scale(1.2);
    }
    
    .slider::-moz-range-thumb {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: var(--gradient-primary);
      cursor: pointer;
      border: none;
      box-shadow: 0 2px 8px rgba(14, 165, 233, 0.4);
    }
    
    /* Action Buttons */
    .btn-container {
      display: flex;
      gap: 1rem;
      justify-content: center;
      margin-top: 3rem;
    }
    
    .btn {
      padding: 1rem 2.5rem;
      border-radius: 12px;
      font-weight: 600;
      font-size: 1rem;
      cursor: pointer;
      border: none;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .btn-primary {
      background: var(--gradient-primary);
      color: white;
      box-shadow: 0 4px 15px rgba(14, 165, 233, 0.4);
    }
    
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(14, 165, 233, 0.5);
    }
    
    .btn-secondary {
      background: var(--bg-card-hover);
      color: var(--text-primary);
      border: 2px solid var(--border);
    }
    
    .btn-secondary:hover {
      border-color: var(--primary);
      transform: translateY(-2px);
    }
    
    /* Results Section */
    .results-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-bottom: 2rem;
    }
    
    .stat-card {
      background: var(--bg-card-hover);
      padding: 2rem;
      border-radius: 16px;
      border: 1px solid var(--border);
      position: relative;
      overflow: hidden;
      animation: fadeInUp 0.6s ease-out backwards;
    }
    
    .stat-card:nth-child(1) { animation-delay: 0.1s; }
    .stat-card:nth-child(2) { animation-delay: 0.2s; }
    .stat-card:nth-child(3) { animation-delay: 0.3s; }
    
    .stat-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: var(--gradient-primary);
    }
    
    .stat-label {
      font-size: 0.875rem;
      color: var(--text-muted);
      margin-bottom: 0.5rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      font-weight: 600;
    }
    
    .stat-value {
      font-size: 2.5rem;
      font-weight: 800;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 0.25rem;
    }
    
    .stat-desc {
      font-size: 0.875rem;
      color: var(--text-secondary);
    }
    
    .chart-container {
      background: var(--bg-card-hover);
      padding: 2rem;
      border-radius: 16px;
      border: 1px solid var(--border);
      margin-bottom: 2rem;
      animation: fadeInUp 0.6s ease-out 0.4s backwards;
    }
    
    .insights {
      background: linear-gradient(135deg, rgba(14, 165, 233, 0.1), rgba(139, 92, 246, 0.1));
      padding: 2rem;
      border-radius: 16px;
      border: 1px solid rgba(14, 165, 233, 0.3);
      animation: fadeInUp 0.6s ease-out 0.5s backwards;
    }
    
    .insights h3 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .insights h3 i {
      color: var(--accent);
      font-size: 1.75rem;
    }
    
    .insight-item {
      display: flex;
      align-items: start;
      gap: 1rem;
      margin-bottom: 1rem;
      padding: 1rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
    }
    
    .insight-icon {
      font-size: 1.5rem;
      flex-shrink: 0;
      color: var(--primary);
    }
    
    .insight-icon i {
      font-size: 1.75rem;
    }
    
    .cta-card {
      background: var(--gradient-primary);
      padding: 3rem;
      border-radius: 16px;
      text-align: center;
      margin-top: 2rem;
      animation: fadeInUp 0.6s ease-out 0.6s backwards;
    }
    
    .cta-card h3 {
      font-size: 2rem;
      margin-bottom: 1rem;
    }
    
    .cta-card p {
      font-size: 1.1rem;
      margin-bottom: 2rem;
      opacity: 0.9;
    }
    
    .btn-cta {
      background: white;
      color: var(--primary);
      padding: 1.25rem 3rem;
      border-radius: 12px;
      font-weight: 700;
      font-size: 1.1rem;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
      display: inline-block;
      text-decoration: none;
    }
    
    .btn-cta:hover {
      transform: translateY(-2px) scale(1.05);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }
    
    /* Animations */
    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateY(-30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    @keyframes pulse {
      0%, 100% {
        box-shadow: 0 0 20px rgba(14, 165, 233, 0.5);
      }
      50% {
        box-shadow: 0 0 30px rgba(14, 165, 233, 0.8);
      }
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      .header h1 {
        font-size: 2rem;
      }
      
      .header p {
        font-size: 1rem;
      }
      
      .calc-card {
        padding: 2rem 1.5rem;
      }
      
      .progress-container {
        margin-bottom: 2rem;
      }
      
      .step-label {
        font-size: 0.75rem;
      }
      
      .button-grid {
        grid-template-columns: 1fr;
      }
      
      .task-grid {
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
      }
      
      .btn-container {
        flex-direction: column;
      }
      
      .btn {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Calculate Your Savings</h1>
      <p>Discover how much time and money your hospitality business can save with AI email agents, dynamic pricing engines, and intelligent automation that connects directly to your PMS/CRM</p>
    </div>
    
    <div class="calc-card">
      <!-- Progress Steps -->
      <div class="progress-container">
        <div class="progress-line">
          <div class="progress-line-fill" id="progressFill"></div>
        </div>
        <div class="step active" data-step="1" onclick="goToStep(1)">
          <div class="step-circle">1</div>
          <div class="step-label">Property Type</div>
        </div>
        <div class="step" data-step="2" onclick="goToStep(2)">
          <div class="step-circle">2</div>
          <div class="step-label">Operations</div>
        </div>
        <div class="step" data-step="3" onclick="goToStep(3)">
          <div class="step-circle">3</div>
          <div class="step-label">Results</div>
        </div>
      </div>
      
      <!-- Step 1: Property Type -->
      <div class="section active" id="step1">
        <div class="section-header">
          <h2>Tell us about your property</h2>
          <p>Select your property type to get tailored recommendations</p>
        </div>
        
        <div class="button-grid">
          <button class="option-btn" data-type="hotel" onclick="selectOption(this, 'propertyType')">
            <span class="option-icon"><i class="fa-solid fa-hotel"></i></span>
            <div class="option-title">Hotel</div>
            <div class="option-desc">Traditional hotels & boutique properties</div>
          </button>
          <button class="option-btn" data-type="resort" onclick="selectOption(this, 'propertyType')">
            <span class="option-icon"><i class="fa-solid fa-umbrella-beach"></i></span>
            <div class="option-title">Resort</div>
            <div class="option-desc">Full-service resorts & vacation properties</div>
          </button>
          <button class="option-btn" data-type="campsite" onclick="selectOption(this, 'propertyType')">
            <span class="option-icon"><i class="fa-solid fa-campground"></i></span>
            <div class="option-title">Campsite</div>
            <div class="option-desc">Campsites, RV parks & glamping sites</div>
          </button>
          <button class="option-btn" data-type="agency" onclick="selectOption(this, 'propertyType')">
            <span class="option-icon"><i class="fa-solid fa-plane-departure"></i></span>
            <div class="option-title">Travel Agency</div>
            <div class="option-desc">Tour operators & travel agencies</div>
          </button>
        </div>
        
        <div class="section-header" style="margin-top: 2rem;">
          <h2>Property Size</h2>
          <p>How many rooms, pitches, or bookings do you manage?</p>
        </div>
        
        <div class="button-grid">
          <button class="option-btn" data-size="small" onclick="selectOption(this, 'propertySize')">
            <span class="option-icon"><i class="fa-solid fa-chart-simple"></i></span>
            <div class="option-title">Small</div>
            <div class="option-desc">1-50 units or <100 bookings/month</div>
          </button>
          <button class="option-btn" data-size="medium" onclick="selectOption(this, 'propertySize')">
            <span class="option-icon"><i class="fa-solid fa-chart-line"></i></span>
            <div class="option-title">Medium</div>
            <div class="option-desc">50-200 units or 100-500 bookings/month</div>
          </button>
          <button class="option-btn" data-size="large" onclick="selectOption(this, 'propertySize')">
            <span class="option-icon"><i class="fa-solid fa-rocket"></i></span>
            <div class="option-title">Large</div>
            <div class="option-desc">200+ units or 500+ bookings/month</div>
          </button>
        </div>
        
        <div class="btn-container">
          <button class="btn btn-primary" onclick="nextStep()">Continue →</button>
        </div>
      </div>
      
      <!-- Step 2: Operations -->
      <div class="section" id="step2">
        <div class="section-header">
          <h2>Select your automation solutions</h2>
          <p>Choose from AI email agents (auto-sort, flag, respond, sync to PMS), dynamic pricing engines that analyze weather/competition/capacity, booking assistants, and more to estimate your time and cost savings</p>
        </div>
        
        <div class="task-grid" id="taskGrid">
          <!-- Tasks will be populated dynamically -->
        </div>
        
        <div class="section-header" style="margin-top: 2rem;">
          <h2>Current operations metrics</h2>
          <p>Help us understand your current workload</p>
        </div>
        
        <div class="slider-group">
          <div class="slider-label">
            <span>Emails received per day</span>
            <span class="slider-value" id="emailsValue">100</span>
          </div>
          <input type="range" class="slider" id="emailsSlider" min="20" max="500" value="100" step="10">
        </div>
        
        <div class="slider-group">
          <div class="slider-label">
            <span>Staff hours spent on email/admin per week</span>
            <span class="slider-value" id="hoursValue">40</span>
          </div>
          <input type="range" class="slider" id="hoursSlider" min="5" max="200" value="40" step="5">
        </div>
        
        <div class="slider-group">
          <div class="slider-label">
            <span>Average staff hourly rate (£)</span>
            <span class="slider-value" id="rateValue">£15</span>
          </div>
          <input type="range" class="slider" id="rateSlider" min="10" max="50" value="15" step="1">
        </div>
        
        <div class="btn-container">
          <button class="btn btn-secondary" onclick="prevStep()">← Back</button>
          <button class="btn btn-primary" onclick="calculateResults()">Calculate Savings →</button>
        </div>
      </div>
      
      <!-- Step 3: Results -->
      <div class="section" id="step3">
        <div class="section-header">
          <h2>Your Potential Savings</h2>
          <p>Here's what automation could do for your business</p>
        </div>
        
        <div class="results-grid">
          <div class="stat-card">
            <div class="stat-label">Total Annual Benefit</div>
            <div class="stat-value" id="annualSavings">£0</div>
            <div class="stat-desc">Combined cost savings and revenue increases</div>
          </div>

          <div class="stat-card">
            <div class="stat-label">Time Saved Per Week</div>
            <div class="stat-value" id="timeSaved">0 hrs</div>
            <div class="stat-desc">Staff hours freed up for guest service</div>
          </div>

          <div class="stat-card">
            <div class="stat-label">ROI Timeline</div>
            <div class="stat-value" id="roiMonths">0 mo</div>
            <div class="stat-desc">Time to recoup automation investment</div>
          </div>
        </div>
        
        <div class="chart-container">
          <canvas id="savingsChart"></canvas>
        </div>
        
        <div class="insights">
          <h3><i class="fa-solid fa-lightbulb"></i> Key Insights</h3>
          <div id="insightsContent"></div>
        </div>
        
        <div class="cta-card">
          <h3>Ready to Transform Your Operations?</h3>
          <p>Book a free consultation to discuss your custom automation solution</p>
          <a href="https://calendly.com/jengu-meeting/30min" target="_blank" class="btn-cta">
            Schedule Your Free Consultation →
          </a>
        </div>
        
        <div class="btn-container" style="margin-top: 2rem;">
          <button class="btn btn-secondary" onclick="resetCalculator()">Start Over</button>
        </div>
      </div>
    </div>
  </div>
  
  <script>
    // Data storage
    let calculatorData = {
      propertyType: null,
      propertySize: null,
      tasks: [],
      emails: 100,
      hours: 40,
      rate: 15
    };
    
    let currentStep = 1;
    let chart = null;
    
    // Task definitions by property type (research-backed percentages)
    // Type: 'time' = reduces staff hours, 'revenue' = increases revenue, 'conversion' = improves booking rates
    const tasksByType = {
      hotel: [
        { name: 'AI Email Agent - Sorting & Flagging', savings: 85, type: 'time', desc: 'AI sorts emails, flags urgent ones (85% time reduction)' },
        { name: 'AI Email Agent - Auto-Responses', savings: 80, type: 'time', desc: 'Handles 80% of guest inquiries automatically' },
        { name: 'AI Email Agent - PMS Data Entry', savings: 70, type: 'time', desc: 'Auto-extracts booking info into PMS (70% admin reduction)' },
        { name: 'Dynamic Pricing Engine', savings: 19, type: 'revenue', desc: 'AI pricing: 7-35% RevPAR increase (avg 19%)' },
        { name: 'AI Booking Assistant', savings: 28, type: 'conversion', desc: '24/7 bookings: 20-40% conversion boost (avg 28%)' },
        { name: 'Guest Communication Automation', savings: 75, type: 'time', desc: 'Pre-arrival, check-in, post-stay emails (75% time saved)' },
        { name: 'Review Monitoring & Response', savings: 70, type: 'time', desc: 'Track and respond to reviews (70% time saved)' },
        { name: 'PMS/CRM Integration', savings: 80, type: 'time', desc: 'Sync all systems: 70-90% reconciliation time saved' },
        { name: 'Email Notification System', savings: 65, type: 'time', desc: 'Alert staff to urgent issues (65% faster response)' },
        { name: 'Channel Manager Integration', savings: 20, type: 'revenue', desc: 'Multi-platform sync: 15-25% booking increase (avg 20%)' }
      ],
      resort: [
        { name: 'AI Email Agent - Sorting & Flagging', savings: 85, type: 'time', desc: 'AI sorts emails, flags urgent ones (85% time reduction)' },
        { name: 'AI Email Agent - Auto-Responses', savings: 80, type: 'time', desc: 'Handles 80% of guest inquiries automatically' },
        { name: 'AI Email Agent - PMS Integration', savings: 70, type: 'time', desc: 'Auto-updates PMS (70% admin reduction)' },
        { name: 'Dynamic Pricing Engine', savings: 22, type: 'revenue', desc: 'Smart pricing: weather, events (7-35% RevPAR boost, avg 22%)' },
        { name: 'Multi-Venue Booking System', savings: 75, type: 'time', desc: 'Spa, restaurant, activities (75% booking time saved)' },
        { name: 'AI Booking Assistant', savings: 30, type: 'conversion', desc: 'Complex bookings: 20-40% conversion increase (avg 30%)' },
        { name: 'Guest Preference Tracking', savings: 65, type: 'time', desc: 'CRM auto-sync for personalization (65% time saved)' },
        { name: 'Event Coordination Automation', savings: 68, type: 'time', desc: 'Wedding & event management (68% time saved)' },
        { name: 'F&B POS Integration', savings: 20, type: 'revenue', desc: 'Integrated dining: 15-25% F&B revenue growth (avg 20%)' },
        { name: 'Activity Recommendation Engine', savings: 25, type: 'conversion', desc: 'AI activity upsells: 20-30% uptake increase (avg 25%)' }
      ],
      campsite: [
        { name: 'AI Email Agent - Sorting & Flagging', savings: 85, type: 'time', desc: 'AI sorts emails, flags urgent ones (85% time reduction)' },
        { name: 'AI Email Agent - Auto-Responses', savings: 80, type: 'time', desc: 'Instant replies to 80% of common questions' },
        { name: 'AI Email Agent - Booking Data Sync', savings: 70, type: 'time', desc: 'Updates booking system automatically (70% admin reduction)' },
        { name: 'Dynamic Pricing Engine', savings: 18, type: 'revenue', desc: 'Weather-based pricing: 7-30% revenue increase (avg 18%)' },
        { name: 'Pitch Availability Automation', savings: 72, type: 'time', desc: 'Real-time availability (72% update time saved)' },
        { name: 'Check-in Instructions Automation', savings: 78, type: 'time', desc: 'Auto-send directions (78% check-in time saved)' },
        { name: 'Weather Alert System', savings: 60, type: 'time', desc: 'Automated guest notifications (60% time saved)' },
        { name: 'Equipment Rental Management', savings: 65, type: 'time', desc: 'Track & confirm rentals (65% time saved)' },
        { name: 'Channel Manager Integration', savings: 18, type: 'revenue', desc: 'Multi-platform sync: 15-20% occupancy boost (avg 18%)' },
        { name: 'Seasonal Campaign Automation', savings: 62, type: 'time', desc: 'Automated marketing (62% campaign time saved)' }
      ],
      agency: [
        { name: 'AI Email Agent - Sorting & Flagging', savings: 85, type: 'time', desc: 'AI sorts emails, flags urgent ones (85% time reduction)' },
        { name: 'AI Email Agent - Auto-Responses', savings: 80, type: 'time', desc: 'Instant quote responses (80% inquiry handling)' },
        { name: 'AI Email Agent - CRM Integration', savings: 70, type: 'time', desc: 'Auto-update records (70% data entry reduction)' },
        { name: 'Dynamic Package Pricing', savings: 20, type: 'revenue', desc: 'AI pricing optimization: 15-25% margin improvement (avg 20%)' },
        { name: 'AI Travel Assistant', savings: 82, type: 'time', desc: 'Answer 80%+ of travel queries 24/7' },
        { name: 'Itinerary Automation', savings: 75, type: 'time', desc: 'Generate travel plans (75% planning time saved)' },
        { name: 'Booking Confirmation System', savings: 68, type: 'time', desc: 'Multi-service confirmations (68% time saved)' },
        { name: 'Travel Document Management', savings: 72, type: 'time', desc: 'Auto-send visas, tickets (72% admin reduction)' },
        { name: 'Flight Update Notifications', savings: 65, type: 'time', desc: 'Real-time alerts (65% manual checking eliminated)' },
        { name: 'Customer Follow-up Automation', savings: 70, type: 'time', desc: 'Post-trip surveys (70% follow-up time saved)' }
      ]
    };
    
    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      updateSliders();
    });
    
    // Selection handlers
    function selectOption(btn, type) {
      const group = btn.parentElement;
      group.querySelectorAll('.option-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      
      if (type === 'propertyType') {
        calculatorData.propertyType = btn.dataset.type;
      } else if (type === 'propertySize') {
        calculatorData.propertySize = btn.dataset.size;
      }
    }
    
    // Task selection
    function populateTasks() {
      const taskGrid = document.getElementById('taskGrid');
      taskGrid.innerHTML = '';

      const tasks = tasksByType[calculatorData.propertyType] || [];

      tasks.forEach(task => {
        const btn = document.createElement('button');
        btn.className = 'task-btn';
        const label = task.type === 'time' ? 'time saved' :
                     task.type === 'revenue' ? 'revenue boost' :
                     'conversion boost';
        btn.innerHTML = `
          ${task.name}
          <span class="task-savings">${task.savings}% ${label}</span>
        `;
        btn.onclick = () => toggleTask(btn, task);
        taskGrid.appendChild(btn);
      });
    }
    
    function toggleTask(btn, task) {
      btn.classList.toggle('active');
      
      const index = calculatorData.tasks.findIndex(t => t.name === task.name);
      if (index > -1) {
        calculatorData.tasks.splice(index, 1);
      } else {
        calculatorData.tasks.push(task);
      }
    }
    
    // Slider updates
    function updateSliders() {
      const emailsSlider = document.getElementById('emailsSlider');
      const hoursSlider = document.getElementById('hoursSlider');
      const rateSlider = document.getElementById('rateSlider');
      
      emailsSlider.addEventListener('input', (e) => {
        document.getElementById('emailsValue').textContent = e.target.value;
        calculatorData.emails = parseInt(e.target.value);
      });
      
      hoursSlider.addEventListener('input', (e) => {
        document.getElementById('hoursValue').textContent = e.target.value;
        calculatorData.hours = parseInt(e.target.value);
      });
      
      rateSlider.addEventListener('input', (e) => {
        document.getElementById('rateValue').textContent = '£' + e.target.value;
        calculatorData.rate = parseInt(e.target.value);
      });
    }
    
    // Navigation
    function nextStep() {
      if (currentStep === 1) {
        if (!calculatorData.propertyType || !calculatorData.propertySize) {
          alert('Please select both property type and size');
          return;
        }
        populateTasks();
      }
      
      if (currentStep < 3) {
        currentStep++;
        showStep(currentStep);
        updateProgress();
      }
    }
    
    function prevStep() {
      if (currentStep > 1) {
        currentStep--;
        showStep(currentStep);
        updateProgress();
      }
    }
    
    function goToStep(step) {
      if (step <= currentStep || step === 1) {
        currentStep = step;
        showStep(step);
        updateProgress();
      }
    }
    
    function showStep(step) {
      document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      document.getElementById(`step${step}`).classList.add('active');
      
      document.querySelectorAll('.step').forEach(s => s.classList.remove('active', 'completed'));
      document.querySelectorAll('.step').forEach((s, i) => {
        if (i + 1 < step) s.classList.add('completed');
        if (i + 1 === step) s.classList.add('active');
      });
    }
    
    function updateProgress() {
      const progress = ((currentStep - 1) / 2) * 100;
      document.getElementById('progressFill').style.width = progress + '%';
    }
    
    // Calculations - Updated to separate time savings from revenue increases
    function calculateResults() {
      if (calculatorData.tasks.length === 0) {
        alert('Please select at least one task to automate');
        return;
      }

      // Separate tasks by type
      const timeTasks = calculatorData.tasks.filter(t => t.type === 'time');
      const revenueTasks = calculatorData.tasks.filter(t => t.type === 'revenue');
      const conversionTasks = calculatorData.tasks.filter(t => t.type === 'conversion');

      // Calculate time savings (only from 'time' type tasks)
      const avgTimeSavings = timeTasks.length > 0
        ? timeTasks.reduce((sum, task) => sum + task.savings, 0) / timeTasks.length
        : 0;

      // Calculate costs
      const weeklyCost = calculatorData.hours * calculatorData.rate;
      const annualCost = weeklyCost * 52;
      const savedHours = (calculatorData.hours * avgTimeSavings) / 100;
      const savedCost = (annualCost * avgTimeSavings) / 100;

      // Calculate revenue increase (from revenue and conversion tasks)
      const avgRevenueIncrease = revenueTasks.length > 0
        ? revenueTasks.reduce((sum, task) => sum + task.savings, 0) / revenueTasks.length
        : 0;

      const avgConversionIncrease = conversionTasks.length > 0
        ? conversionTasks.reduce((sum, task) => sum + task.savings, 0) / conversionTasks.length
        : 0;

      // Estimate additional revenue (conservative estimate based on current costs as proxy)
      // For a typical hotel, if they spend £30k/year on admin, they likely have £200k-500k revenue
      // Using a conservative 5:1 revenue to cost ratio
      const estimatedAnnualRevenue = annualCost * 5;
      const additionalRevenue = (estimatedAnnualRevenue * avgRevenueIncrease) / 100;
      const conversionRevenue = (estimatedAnnualRevenue * avgConversionIncrease) / 100;

      // Total benefit = cost savings + revenue increases
      const totalAnnualBenefit = savedCost + additionalRevenue + conversionRevenue;

      // ROI calculation (setup cost based on property size)
      const setupCostBySize = {
        small: 3000,
        medium: 5000,
        large: 8000
      };
      const setupCost = setupCostBySize[calculatorData.propertySize] || 5000;
      const monthsToROI = Math.ceil(setupCost / (totalAnnualBenefit / 12));

      // Display results
      document.getElementById('annualSavings').textContent = '£' + Math.round(totalAnnualBenefit).toLocaleString();
      document.getElementById('timeSaved').textContent = Math.round(savedHours) + ' hrs';
      document.getElementById('roiMonths').textContent = monthsToROI + ' mo';

      // Generate insights
      generateInsights(savedCost, savedHours, avgTimeSavings, additionalRevenue, avgRevenueIncrease, conversionRevenue, avgConversionIncrease);

      // Create chart
      createChart(annualCost, savedCost, additionalRevenue, conversionRevenue);

      nextStep();
    }
    
    function generateInsights(savedCost, savedHours, avgTimeSavings, additionalRevenue, avgRevenueIncrease, conversionRevenue, avgConversionIncrease) {
      const insights = [];

      // Time savings insight (if applicable)
      if (savedHours > 0) {
        const fte = savedHours / 40;
        insights.push({
          icon: '<i class="fa-solid fa-bolt"></i>',
          text: `Your team could save <strong>${Math.round(savedHours)} hours per week</strong>${fte >= 1 ? `, equivalent to ${fte.toFixed(1)} full-time employee(s) freed up for guest service` : ', allowing staff to focus on high-value guest interactions'}.`
        });
      }

      // Cost savings insight
      if (savedCost > 0) {
        insights.push({
          icon: '<i class="fa-solid fa-piggy-bank"></i>',
          text: `Annual labor cost savings of <strong>£${Math.round(savedCost).toLocaleString()}</strong> from ${Math.round(avgTimeSavings)}% automation of repetitive tasks like email sorting, data entry, and guest communications.`
        });
      }

      // Revenue increase insight (if revenue-generating tasks selected)
      if (additionalRevenue > 0) {
        insights.push({
          icon: '<i class="fa-solid fa-chart-line"></i>',
          text: `Dynamic pricing and channel management could generate an estimated <strong>£${Math.round(additionalRevenue).toLocaleString()} additional annual revenue</strong> (${Math.round(avgRevenueIncrease)}% increase) through optimized rates and occupancy.`
        });
      }

      // Conversion increase insight (if conversion tasks selected)
      if (conversionRevenue > 0) {
        insights.push({
          icon: '<i class="fa-solid fa-bullseye"></i>',
          text: `24/7 AI booking assistants could capture an estimated <strong>£${Math.round(conversionRevenue).toLocaleString()} additional revenue</strong> (${Math.round(avgConversionIncrease)}% conversion boost) by never missing inquiries and reducing booking abandonment.`
        });
      }

      // Always show email automation insight
      insights.push({
        icon: '<i class="fa-solid fa-envelope"></i>',
        text: `Our AI email agents automatically sort, flag, and respond to 80-85% of emails while syncing critical booking data directly into your PMS/CRM - based on real hospitality industry benchmarks.`
      });

      const container = document.getElementById('insightsContent');
      container.innerHTML = insights.map(insight => `
        <div class="insight-item">
          <div class="insight-icon">${insight.icon}</div>
          <div>${insight.text}</div>
        </div>
      `).join('');
    }
    
    function createChart(currentCost, costSavings, additionalRevenue, conversionRevenue) {
      const ctx = document.getElementById('savingsChart').getContext('2d');

      if (chart) chart.destroy();

      const gradient1 = ctx.createLinearGradient(0, 0, 0, 400);
      gradient1.addColorStop(0, 'rgba(239, 68, 68, 0.8)');
      gradient1.addColorStop(1, 'rgba(239, 68, 68, 0.2)');

      const gradient2 = ctx.createLinearGradient(0, 0, 0, 400);
      gradient2.addColorStop(0, 'rgba(16, 185, 129, 0.8)');
      gradient2.addColorStop(1, 'rgba(16, 185, 129, 0.2)');

      const gradient3 = ctx.createLinearGradient(0, 0, 0, 400);
      gradient3.addColorStop(0, 'rgba(14, 165, 233, 0.8)');
      gradient3.addColorStop(1, 'rgba(14, 165, 233, 0.2)');

      const gradient4 = ctx.createLinearGradient(0, 0, 0, 400);
      gradient4.addColorStop(0, 'rgba(139, 92, 246, 0.8)');
      gradient4.addColorStop(1, 'rgba(139, 92, 246, 0.2)');

      const newAnnualCost = currentCost - costSavings;
      const labels = ['Current\nAnnual Cost', 'Reduced\nCost'];
      const data = [currentCost, newAnnualCost];
      const backgrounds = [gradient1, gradient2];
      const borders = ['rgba(239, 68, 68, 1)', 'rgba(16, 185, 129, 1)'];

      // Add revenue bars if applicable
      if (additionalRevenue > 0) {
        labels.push('Additional\nRevenue');
        data.push(additionalRevenue);
        backgrounds.push(gradient3);
        borders.push('rgba(14, 165, 233, 1)');
      }

      if (conversionRevenue > 0) {
        labels.push('Conversion\nRevenue');
        data.push(conversionRevenue);
        backgrounds.push(gradient4);
        borders.push('rgba(139, 92, 246, 1)');
      }

      chart = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: labels,
          datasets: [{
            data: data,
            backgroundColor: backgrounds,
            borderColor: borders,
            borderWidth: 2,
            borderRadius: 8
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: true,
          plugins: {
            legend: { display: false },
            title: {
              display: true,
              text: 'Annual Financial Impact',
              color: '#F8FAFC',
              font: { size: 16, weight: 'bold' }
            },
            tooltip: {
              backgroundColor: '#1E293B',
              titleColor: '#F8FAFC',
              bodyColor: '#F8FAFC',
              borderColor: '#334155',
              borderWidth: 1,
              padding: 12,
              displayColors: false,
              callbacks: {
                label: (context) => '£' + Math.round(context.parsed.y).toLocaleString()
              }
            }
          },
          scales: {
            y: {
              beginAtZero: true,
              ticks: {
                color: '#94A3B8',
                callback: (value) => '£' + value.toLocaleString()
              },
              grid: {
                color: 'rgba(148, 163, 184, 0.1)'
              }
            },
            x: {
              ticks: { color: '#94A3B8' },
              grid: { display: false }
            }
          },
          animation: {
            duration: 2000,
            easing: 'easeInOutQuart'
          }
        }
      });
    }
    
    function resetCalculator() {
      calculatorData = {
        propertyType: null,
        propertySize: null,
        tasks: [],
        emails: 100,
        hours: 40,
        rate: 15
      };
      currentStep = 1;
      showStep(1);
      updateProgress();
      
      document.querySelectorAll('.option-btn').forEach(btn => btn.classList.remove('active'));
      document.getElementById('emailsSlider').value = 100;
      document.getElementById('hoursSlider').value = 40;
      document.getElementById('rateSlider').value = 15;
      document.getElementById('emailsValue').textContent = '100';
      document.getElementById('hoursValue').textContent = '40';
      document.getElementById('rateValue').textContent = '£15';
    }
  </script>
</body>
</html>